{"version":3,"sources":["scripts.js"],"names":["baseEndpoint","proxy","form","document","querySelector","recipesGrid","fetchRecipes","query","res","fetch","data","json","handleSubmit","e","preventDefault","el","event","currentTarget","fetchDisplay","value","submit","disabled","console","log","recipes","displayRecipes","results","html","map","recipe","title","ingredients","thumbnail","href","innerHTML","join","addEventListener"],"mappings":"AAAA,MAAMA,YAAY,GAAG,iCAArB;AACA,MAAMC,KAAK,GAAG,sCAAd;AACA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAb;AACA,MAAMC,WAAW,GAAGF,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAApB;;AAEA,eAAeE,YAAf,CAA4BC,KAA5B,EAAmC;AAC3B,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAER,KAAM,GAAED,YAAa,MAAKO,KAAM,EAApC,CAAvB;AACA,QAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACA,SAAOD,IAAP;AACP,EAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAeE,YAAf,CAA4BC,CAA5B,EAA+B;AACvBA,EAAAA,CAAC,CAACC,cAAF;AACA,QAAMC,EAAE,GAAGC,KAAK,CAACC,aAAjB;AACAC,EAAAA,YAAY,CAAChB,IAAI,CAACK,KAAL,CAAWY,KAAZ,CAAZ;AACP;;AAED,eAAeD,YAAf,CAA4BX,KAA5B,EAAmC;AAC3B;AACAL,EAAAA,IAAI,CAACkB,MAAL,CAAYC,QAAZ,GAAuB,IAAvB,CAF2B,CAG3B;;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYrB,IAAI,CAACK,KAAL,CAAWY,KAAvB;AACA,QAAMK,OAAO,GAAG,MAAMlB,YAAY,CAACC,KAAD,CAAlC;AACAe,EAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACAtB,EAAAA,IAAI,CAACkB,MAAL,CAAYC,QAAZ,GAAuB,KAAvB;AACAI,EAAAA,cAAc,CAACD,OAAO,CAACE,OAAT,CAAd;AACP;;AAED,SAASD,cAAT,CAAwBD,OAAxB,EAAiC;AACzBF,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,QAAMI,IAAI,GAAGH,OAAO,CAACI,GAAR,CACLC,MAAM,IAAK;cACbA,MAAM,CAACC,KAAM;aACdD,MAAM,CAACE,WAAY;;UAEtBF,MAAM,CAACG,SAAP,IAAqB,aAAYH,MAAM,CAACG,SAAU,UAASH,MAAM,CAACC,KAAM,KAAK;;mBAEpED,MAAM,CAACI,IAAK;;eAPV,CAAb;AAWA5B,EAAAA,WAAW,CAAC6B,SAAZ,GAAwBP,IAAI,CAACQ,IAAL,CAAU,EAAV,CAAxB;AACP;;AAEDjC,IAAI,CAACkC,gBAAL,CAAsB,QAAtB,EAAgCxB,YAAhC;AAEAM,YAAY,CAAC,OAAD,CAAZ","file":"scripts.b71a6038.js","sourceRoot":"..","sourcesContent":["const baseEndpoint = 'http://www.recipepuppy.com/api/';\nconst proxy = 'https://cors-anywhere.herokuapp.com/';\nconst form = document.querySelector('form.search');\nconst recipesGrid = document.querySelector('.recipes');\n\nasync function fetchRecipes(query) {\n        const res = await fetch(`${proxy}${baseEndpoint}?q=${query}`);\n        const data = await res.json();\n        return data;\n}\n\n// async function handleSubmit(e) {\n//         e.preventDefault();\n//         console.log(form.query.value);\n//         const el = e.currentTarget;\n//         // turn the form off\n//         el.submit.disabled = true;\n//         // submit the search\n//         console.log(el.query.value);\n//         const recipes = await fetchRecipes(el.query.value);\n//         console.log(recipes);\n//         el.submit.disabled = false;\n//         displayRecipes(recipes.results);\n// }\n\nasync function handleSubmit(e) {\n        e.preventDefault();\n        const el = event.currentTarget;\n        fetchDisplay(form.query.value);\n}\n\nasync function fetchDisplay(query) {\n        // turn the form off\n        form.submit.disabled = true;\n        // submit the search\n        console.log(form.query.value);\n        const recipes = await fetchRecipes(query);\n        console.log(recipes);\n        form.submit.disabled = false;\n        displayRecipes(recipes.results);\n}\n\nfunction displayRecipes(recipes) {\n        console.log('creating html');\n        const html = recipes.map(\n                recipe => `<div class = \"recipe\">\n        <h2>${recipe.title}</h2>\n        <p>${recipe.ingredients}</p>\n       \n        ${recipe.thumbnail && `<img src=\"${recipe.thumbnail}\" alt=\"${recipe.title}\"/>`}\n       \n        <a href=\"${recipe.href}\">View Recipe -></a>\n       \n        </div>`\n        );\n        recipesGrid.innerHTML = html.join('');\n}\n\nform.addEventListener('submit', handleSubmit);\n\nfetchDisplay('pizza');\n"]}